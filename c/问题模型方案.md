这是一份为您定制的【模型选择模块】文档。该文档针对 2026 MCM Problem C 的核心任务，设计了“保底”与“冲奖”两套模型方案，重点突出了针对本题“反向推断”与“离散规则模拟”特征的适配性。
【模型选择模块】2026 MCM Problem C: Uncovering the Unknowns
本模块针对 Problem C 的五个核心任务，分别构建 「方案1：基础适配（统计/规则导向）」 与 「方案2：创新融合（贝叶斯/机器学习导向）」。方案1侧重于逻辑清晰、易于实现，确保满足题目基本要求；方案2侧重于挖掘深度、量化不确定性，旨在提升模型精度与论文亮点。
1. 核心任务一：粉丝投票反演 (Reconstruction of Votes)
任务目标： 从已知的“裁判分”和“淘汰结果”中，反向估算未知的“粉丝投票”，并给出置信度。
方案 1（基础适配）：约束蒙特卡洛模拟 (Constrained Monte Carlo Simulation)
核心原理： 利用“大数定律”思想。由于无法直接求解（方程数 < 变量数），我们构建一个随机数生成器，模拟成千上万种可能的粉丝投票分布。将每一种分布代入当周的淘汰规则（Rank/Percent），保留那些能够完美复现历史淘汰结果的样本，最后对保留样本取均值作为估计值。
适配性：
处理离散/截断数据： 完美适配题目中“排名相加”或“倒数两名裁判救人”等非线性、离散的规则。
多解性应对： 自然生成解的分布区间，直接满足题目对“确定性度量（Certainty Measure）”的要求（即样本方差）。
创新点（改进）： 引入 “拒绝采样（Rejection Sampling）加速策略”。在生成随机数时，不是完全盲目生成，而是根据选手的裁判排名预设一个先验区间（假设粉丝排名与裁判排名存在弱正相关），缩小搜索空间，提高模拟效率。
局限性与规避：
局限： 计算量大，若搜索空间过大可能陷入“维数灾难”。
规避： 采用分层抽样，或仅针对当周“存活”的选手进行归一化模拟。
方案 2（创新融合）：贝叶斯马尔可夫链蒙特卡洛 (Bayesian MCMC Inference)
核心原理： 将问题转化为概率推断问题。设定粉丝投票服从某种先验分布（如 Dirichlet 分布，保证总和为1），将“淘汰结果”作为观测数据（Likelihood），利用 Metropolis-Hastings 算法或 Gibbs 采样更新后验分布。即 $P(Votes | Eliminated) \propto P(Eliminated | Votes) \cdot P(Votes)$。
适配性：
严谨的不确定性量化： 相比普通 MC，MCMC 能更准确地描绘出解的后验概率密度函数（PDF），不仅给出范围，还能给出“最可能的投票形状”。
时序关联： 可以将上一周的后验分布作为本周的先验分布，体现粉丝人气的时间惯性（Time Inertia）。
创新点： “时序贝叶斯更新（Temporal Bayesian Update）”。不同于对每一周独立模拟，该模型认为选手的粉丝基础是连续变化的，利用贝叶斯链式法则捕捉人气随赛季进展的流动趋势，极大提升了对“黑马”或“人气暴跌”现象的解释力。
局限性与规避：
局限： 收敛性难判断，模型参数（如步长）敏感。
规避： 绘制迹图（Trace Plot）检验收敛性，通过 Gelman-Rubin 统计量诊断。
📊 可视化流程图 (Task 1)
流程描述：
数据场景抽象： 定义状态空间 $S_t = \{Survivors\}$，输入变量 $J_t$ (裁判分)，观测变量 $E_t$ (淘汰者)。
先验设定： 设定粉丝投票 $V_{fan} \sim Dirichlet(\alpha)$ 或 均匀分布 $U(0,1)$。
模拟/采样迭代：
$\rightarrow$ 生成一组候选投票 $v^*$。
$\rightarrow$ 规则校验器（Rule Check）： 计算 $Score_{total}(v^*, J_t)$，判断模拟淘汰者是否等于 $E_t$。
$\rightarrow$ 判别： 若一致，接受样本/更新后验；若不一致，拒绝/跳过。
收敛检查： 检查样本量是否足够 / MCMC链是否平稳。
结果输出： 生成所有选手 $V_{fan}$ 的箱线图（Boxplot）与置信区间表。
2. 核心任务二 & 三：赛制模拟与影响分析 (Simulation & Impact Analysis)
任务目标： 模拟不同赛制（Rank vs %）及“裁判拯救”机制下的反事实结果。
方案 1（基础适配）：离散事件仿真系统 (Discrete Event Simulation, DES)
核心原理： 建立一个基于规则的虚拟引擎。将 Task 1 估算出的粉丝投票作为固定输入，仅改变引擎内部的逻辑模块（如将 $Rank(J)+Rank(F)$ 替换为 $\%J + \%F$），重新运行每一周的比赛，记录新的淘汰者。
适配性：
逻辑直接： 最符合题目“What-if”分析的直觉，能够直接输出具体的“被冤枉的选手”名单。
规则兼容： 易于编程实现复杂的“倒数两名裁判投票”逻辑（If-Else 结构）。
创新点（改进）： “灵敏度边界测试”。不仅使用 Task 1 的平均值进行模拟，而是使用 Task 1 输出的整个分布区间（如 $5^{th}$ percentile 和 $95^{th}$ percentile）分别进行模拟，得出结论的稳健性（Robustness）。
局限性与规避：
局限： 假设粉丝投票在赛制改变下不会发生心理学上的变化（即假设独立性）。
规避： 在论文中明确列出“静态假设”作为模型前提。
方案 2（创新融合）：生存分析 + 扰动分析 (Survival Analysis with Perturbation)
核心原理： 借用医学统计中的 Kaplan-Meier 生存曲线。将选手在比赛中的留存看作“生存”，将淘汰看作“死亡”。构建 Cox 比例风险模型 (Cox Proportional Hazards Model)，将赛制规则（Rank/Percent/Save）作为协变量，量化不同规则对选手“生存风险率（Hazard Rate）”的边际效应。
适配性：
宏观量化： 跳出单场比赛的微观视角，从宏观上回答“哪种赛制让选手的平均寿命更长”或“更难预测”。
统计显著性： 可以计算 Log-rank test，从统计学上证明“裁判拯救机制”是否显著改变了比赛进程。
创新点： “规则风险比（Rule Hazard Ratio）”。定义不同赛制相对于基准赛制的风险比值。例如，计算出在“百分比制”下，低分选手的生存概率比在“排名制”下提高了 20%。
局限性与规避：
局限： 样本量（33个赛季）相对生存分析来说偏小。
规避： 结合 Bootstrap 方法进行重采样，扩大样本置信度。
📊 可视化流程图 (Task 2 & 3)
流程描述：
输入加载： 加载 Task 1 生成的粉丝投票矩阵 $V$ 和裁判分数 $J$。
规则配置： 设定三种实验组：$Rule_{Rank}$, $Rule_{Percent}$, $Rule_{Save}$。
并行仿真：
$\rightarrow$ Step 1: 载入 Week $t$ 数据。
$\rightarrow$ Step 2: 计算合成得分 $S_{new} = Rule(J, V)$。
$\rightarrow$ Step 3: 判定淘汰者 $E_{new}$。若 $E_{new} \neq E_{actual}$，记录为“翻转事件”。
$\rightarrow$ Step 4: 若未被淘汰，进入 Week $t+1$。
结果聚合： 绘制生存曲线对比图（Survival Curves）和 翻转事件热力图（Heatmap）。
3. 核心任务四：相关性与驱动因素挖掘 (Factor Analysis)
任务目标： 识别性别、职业、舞伴等特征与分数的关联。
方案 1（基础适配）：广义线性混合模型 (GLMM)
核心原理： 考虑到数据具有层级结构（不同赛季水平不同，同一选手多周数据有自相关性），普通回归不适用。GLMM 引入“随机效应（Random Effects）”处理赛季差异，用“固定效应（Fixed Effects）”评估性别、职业的影响。公式：$Y = X\beta + Z\mu + \epsilon$。
适配性：
分离噪声： 能有效剔除“某个赛季整体分偏高”这种背景噪声，精准锁定变量本身的影响。
多目标回归： 分别建立两个模型，一个针对 $Y_{judge}$（技术分），一个针对 $Y_{fan}$（人气分），对比系数差异。
创新点（改进）： “交互项分析（Interaction Terms）”。不仅看单一变量，还引入交互项（如 Male * CountrySinger），分析特定组合是否存在“1+1>2”的优势。
局限性与规避：
局限： 对非线性关系拟合能力弱。
规避： 对部分连续变量（如年龄）进行分箱处理，转化为有序分类变量。
方案 2（创新融合）：XGBoost + SHAP 可解释性分析
核心原理： 使用梯度提升树（XGBoost/LightGBM）构建预测模型，预测选手的排名或得票。模型训练完成后，使用 SHAP (SHapley Additive exPlanations) 值来分解每个特征对最终预测结果的边际贡献。
适配性：
非线性捕捉： 树模型能自动捕捉复杂的非线性关系（例如：年龄太小或太大都不好，中间最好），这是线性模型做不到的。
特征重要性排序： SHAP 图能直观展示哪个特征是“决定性”的，哪个是“无关紧要”的，非常适合回答“哪对组合相关性最强”。
创新点： “基于贡献度的归因图谱”。不同于传统的 P 值检验，SHAP 提供了局部解释性，可以具体指出“为什么 Bobby Bones 得分高”（例如：因为他是 Country Radio 主持人且舞伴是 Sharna）。
局限性与规避：
局限： 小样本下容易过拟合。
规避： 严格执行 K-Fold 交叉验证，限制树深（max_depth），使用正则化参数。
📊 可视化流程图 (Task 4)
流程描述：
特征工程：
$\rightarrow$ 文本编码：One-Hot 编码（职业、性别）。
$\rightarrow$ 衍生特征：计算“舞伴历史平均排位”作为舞伴实力的代理变量。
模型构建： 构建 Regression 任务（目标：预测 Task 1 的粉丝份额）。
模型训练： 训练 XGBoost Regressor，使用 5-Fold CV 调优超参数。
解释层（Explainer）： 计算测试集的 SHAP values。
输出可视化： 生成 SHAP Summary Plot（蜜蜂图）和 Dependence Plot（依赖图）。
4. 核心任务五：新赛制设计 (Optimization)
任务目标： 提出平衡且公平的新评分/淘汰规则。
方案 1（基础适配）：加权多目标决策模型 (Weighted MCDA)
核心原理： 定义“公平性”指标（如：技术分高者留存率）和“娱乐性”指标（如：人气分高者留存率）。构建一个新的评分公式 $S = w_1 \cdot f(Judge) + w_2 \cdot g(Fan)$，通过遍历权重 $w$，找到 Pareto 最优解。
适配性：
易于落地： 最终产出的公式形式简单（如“裁判分占60%，观众分占40%”），便于写进 Memo 给节目组。
数据支撑： 利用历史数据回测，证明新权重下“遗憾淘汰”的比率最低。
创新点： “动态权重机制”。建议权重随赛程变化（前期裁判权重高以保证质量，后期粉丝权重高以保证收视率），而非全赛季固定。
局限性与规避：
局限： 主观性较强，权重的选择依赖定义。
规避： 定义明确的损失函数（Loss Function），将主观选择转化为最小化损失的数学问题。
方案 2（创新融合）：基于遗传算法的规则演化 (Genetic Algorithm for Rule Evolution)
核心原理： 不预设公式形式，而是定义一套“规则基因”（如：是否归一化、是否加权、是否有保送名额）。以“历史数据的逆序对数量”（即低分淘汰高分的不合理次数）为适应度函数（Fitness Function），通过遗传算法进化出最优的规则组合。
适配性：
全局寻优： 能够发现人类直觉难以设计的复杂规则（例如：分段函数计分）。
鲁棒性验证： 进化出的规则通常对各种极端情况（Outliers）有较好的抵抗力。
创新点： “数据驱动的机制设计（Data-Driven Mechanism Design）”。完全脱离人为经验，由数据“训练”出最佳规则，这种思路在美赛中非常加分。
局限性与规避：
局限： 解释性差，生成的规则可能过于复杂。
规避： 在适应度函数中加入“复杂度惩罚项”，迫使算法输出简洁的规则。
📊 可视化流程图 (Task 5)
流程描述：
目标定义： 定义目标函数 $Obj = \alpha \cdot (Fairness) + \beta \cdot (Excitement)$。
种群初始化： 随机生成 50 种规则变体（参数组合）。
进化循环：
$\rightarrow$ 评估： 在 Task 2 的仿真引擎中运行每条规则。
$\rightarrow$ 打分： 计算 $Obj$ 值。
$\rightarrow$ 选择与变异： 保留高分规则，微调参数生成下一代。
收敛输出： 经过 100 代迭代，输出 Best Rule。
对比验证： 绘制新旧规则下的“不公淘汰率”对比柱状图。
